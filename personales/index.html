<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horas de Vuelo - 2015 / 2022</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.6.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>
<body class="max-w-7xl mx-auto bg-blue-500 grid">
    <header class="text-center bg-white py-10 text-blue-700">
        <h1 class="text-4xl">ITBA - ECD 2022</h1>
        <h3 class="text-6xl mt-6">DATAVIS</h3>
        <h2 class="text-4xl mt-6 font-bold">TP DATOS PERSONALES</h3>
        <h1 class="text-3xl mt-6">Horas de Vuelo</h1>
    </header>
    <main class="w-full bg-white py-10">
        <div class="space-y-10">
            <h1 class="text-left ml-20 text-blue-500 text-3xl">Horas de Vuelo Totales</h1>
            <div class="flex justify-center max-w-6xl mx-auto">
                <div id="vis" style="width: 100%;"></div>

                <script>
                    // Assign the specification to a local variable vlSpec.
                    var vlSpec = {
                        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
                        "width": "container",
                        "height": 400,
                        "data": {"url": "data/horas_de_vuelo.csv"},
                        "transform": [
                            {"calculate": "datum.sobre_aerodromo_piloto + datum.travesia_piloto", "as": "total_piloto"}
                        ],
                        "mark": {"type": "bar", "tooltip": true},
                        "encoding": {
                            "x": {
                                "timeUnit": "yearmonth",
                                "field": "fecha",
                                "type": "temporal"
                            },
                            "y": {
                                "field": "total_piloto",
                                "type": "quantitative"
                            },
                            "color": {
                                "field": "matricula",
                                "type": "nominal"
                            }
                        },
                        "config": {
                            "style": "width: 100%;"
                        }
                    };
                    // Embed the visualization in the container with id `vis`
                    vegaEmbed('#vis', vlSpec);
                </script>
            </div>
            <div class="text-sm max-w-3xl mx-auto rounded-2xl overflow-hidden border border-gray-300">
                <pre><code class="language-json">
{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": "container",
    "height": 400,
    "data": {"url": "data/horas_de_vuelo.csv"},
    "transform": [
        {"calculate": "datum.sobre_aerodromo_piloto + datum.travesia_piloto", "as": "total_piloto"}
    ],
    "mark": {"type": "bar", "tooltip": true},
    "encoding": {
        "x": {
            "timeUnit": "yearmonth",
            "field": "fecha",
            "type": "temporal"
        },
        "y": {
            "field": "total_piloto",
            "type": "quantitative"
        },
        "color": {
            "field": "matricula",
            "type": "nominal"
        }
    },
    "config": {
        "style": "width: 100%;"
    }
}
                </code></pre>
            </div>
        </div>

    </main>
    <footer class="text-center bg-white py-10">
        <p>Hernán Martínez Reumann 	&#169; 2022</p>
        <ul>
            <li><a href="https://tailwindcss.com/" class="text-blue-400 hover:underline" target="_blank">Tailwind CSS</a></li>
            <li><a href="https://vega.github.io/vega-lite/" class="text-blue-400 hover:underline" target="_blank">Vega Lite</a></li>
            <li><a href="https://highlightjs.org/" class="text-blue-400 hover:underline" target="_blank">Highlight Js</a></li>
        </ul>
    </footer>
</body>
</html>
